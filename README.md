# Итог
Baseline
|     Method |    Mean |    Error |   StdDev |        Gen0 |        Gen1 |      Gen2 | Allocated |
|----------- |--------:|---------:|---------:|------------:|------------:|----------:|----------:|
|   Compress | 2.868 s | 0.1651 s | 0.0090 s | 156000.0000 | 150000.0000 | 4000.0000 |   2.38 GB |
| Uncompress | 2.753 s | 0.4412 s | 0.0242 s | 148000.0000 |  43000.0000 | 4000.0000 |   2.26 GB |

Last commit
|     Method |     Mean |     Error |    StdDev |     Gen0 |     Gen1 |     Gen2 | Allocated |
|----------- |---------:|----------:|----------:|---------:|---------:|---------:|----------:|
|   Compress | 1.808 ms | 0.0997 ms | 0.0055 ms | 501.9531 | 500.0000 | 500.0000 |   2.04 MB |
| Uncompress | 4.918 ms | 0.6054 ms | 0.0332 ms | 328.1250 | 328.1250 | 328.1250 |   1.25 MB |

История крупных изменений с бенчмарками в Jpeg.Benchmark, для каждого из которых есть коммит.
Точка невозврата — коммит Fill, оптимизации после него...

Есть ещё потенциал для ускорения:
* Распараллелить dct,
* Поменьше намусорить в стаке dct
* Объединить Scale и Quantize
* Отказаться от второго транспонирования в dct / первого в idct подобрав deinterleave/interleaving в матрице. 
* Подобрать оптимальный simd в set pixel
* Распараллелить Huffman Encode/Decode разделив изображение на n блоков
* Объединить 2 распаралеливания в одно большое :-)

Помимо ускорения пофиксил CompressQuality после 85 и улучшил качество изображения исправив округление в Quantize 